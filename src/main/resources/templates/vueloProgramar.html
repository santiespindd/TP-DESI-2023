<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>

	<title>Programar Vuelo</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<link rel="stylesheet" th:href="@{/css/main.css}" />
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">

</head>

<body class="bg-light bg-gradient">

	<h2 class="text-center titulo mt-3">Programar Vuelo</h2>


	<div class="container">
		<form class="container w-50" th:action="@{/vueloProgramar}" th:object="${formBean}" method="post">

			<p th:each="err : ${#fields.errors('global')}" th:text="${err}" class="error" />

			<div class="m-3">
				<label>Número de Vuelo:</label></td>
				<input class="form-control" type="text" th:field="*{numeroVuelo}" required />
				
				<div th:if="${#fields.hasErrors('numeroVuelo')}" class="alert alert-danger alert-dismissible fade show" role="alert"> 
>					<span   th:errors="*{numeroVuelo}"></span> 
				  <button type="button" class="btn-close btn-sm" data-bs-dismiss="alert" aria-label="Close"></button> 
					
				</div>
			</div>

			<div class="m-3">
				<label>Origen:</label>
				<select class="form-select" th:field="*{origen}" required>
					<option th:each="ciudad : ${ciudades}" th:value="${ciudad.id}" th:text="${ciudad.nombre}"></option>
				</select>
				
				<div th:if="${#fields.hasErrors('origen')}" class="alert alert-danger alert-dismissible fade show" role="alert"> 
>					<span   th:errors="*{origen}"></span> 
				  <button type="button" class="btn-close btn-sm" data-bs-dismiss="alert" aria-label="Close"></button>
					
				</div>
					
			</div>


			<div class="m-3">
				<label>Destino:</label>

				<select class="form-select" th:field="*{destino}" required>
					<option th:each="ciudad : ${ciudades}" th:value="${ciudad.id}" th:text="${ciudad.nombre}"></option>
				</select>
				
				<div th:if="${#fields.hasErrors('destino')}" class="alert alert-danger alert-dismissible fade show" role="alert"> 
>					<span   th:errors="*{destino}"></span> 
				  <button type="button" class="btn-close btn-sm" data-bs-dismiss="alert" aria-label="Close"></button>
					
				</div>
				
			</div>

			<div class="m-3">
				<label>Tipo de Vuelo:</label>

				<select class="form-select" th:field="*{tipoVuelo}" required>
					<option value="NACIONAL">Nacional</option>
					<option value="INTERNACIONAL">Internacional</option>
				</select>
				
				<div th:if="${#fields.hasErrors('tipoVuelo')}" class="alert alert-danger alert-dismissible fade show" role="alert"> 
>					<span   th:errors="*{tipoVuelo}"></span> 
				  <button type="button" class="btn-close btn-sm" data-bs-dismiss="alert" aria-label="Close"></button>
					
				</div>
			</div>

			<div class="m-3">
				<td><label>Precio del Pasaje:</label></td>
				<td><input minlength="0.01" class="form-control" type="number" th:field="*{precio}" step="0.01" required /></td>
				
				<div th:if="${#fields.hasErrors('precio')}" class="alert alert-danger alert-dismissible fade show" role="alert"> 
>					<span   th:errors="*{precio}"></span> 
				  <button type="button" class="btn-close btn-sm" data-bs-dismiss="alert" aria-label="Close"></button>
					
				</div>
			</div>

			<div class="m-3">
				<label>Fecha de Partida:</label>
				<input class="form-control" type="date" th:field="*{fechaPartida}" required />
				
				
				<div th:if="${#fields.hasErrors('fechaPartida')}" class="alert alert-danger alert-dismissible fade show" role="alert"> 
>					<span   th:errors="*{fechaPartida}"></span> 
				  <button type="button" class="btn-close btn-sm" data-bs-dismiss="alert" aria-label="Close"></button>
					
				</div>
			</div>

			<div class="m-3">
				<label for="horaIngresada">Hora de partida:</label></td>
				<input class="form-control" type="time" id="horaPartida" name="horaPartida" th:field="*{horaPartida}"
					required /> </td>
				<div th:if="${#fields.hasErrors('horaPartida')}" class="alert alert-danger alert-dismissible fade show" role="alert"> 
>					<span   th:errors="*{horaPartida}"></span> 
				  <button type="button" class="btn-close btn-sm" data-bs-dismiss="alert" aria-label="Close"></button>
					
				</div>
			</div>


			<div class="m-3">
				<label>Avión:</label>

				<select class="form-select" th:field="*{avion}" required>
					<option th:each="avion : ${aviones}" th:value="${avion.id}" th:text="${avion.nombre}"></option>
				</select>
				
				<div th:if="${#fields.hasErrors('avion')}" class="alert alert-danger alert-dismissible fade show" role="alert"> 
>					<span   th:errors="*{avion}"></span> 
				  <button type="button" class="btn-close btn-sm" data-bs-dismiss="alert" aria-label="Close"></button>
					
				</div>
			</div>



			<button type="submit" name="action" value="Programar Vuelo" class="btn btn-success list-button mx-3"> Programar
				Vuelo </button>
			<a th:href="@{/}" value="Cancelar" class="btn btn-secondary list-button mx-3"> Cancelar </a>
			 

			
			<div th:if="${error}" class="alert alert-danger" role="alert">
    		     <p th:text="${error}"></p>
    		     <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
		     </div>
		<div th:if="${alerta}" class="alert alert-success alert-dismissible fade show  text-center " role="alert">
			    		<span th:text="${alerta}"></span>
			    		<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
				</div>
		</form>
		
		
	</div>


<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js" integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+" crossorigin="anonymous"></script>
</body>

</html>